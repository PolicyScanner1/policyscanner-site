<h2>Upload your policy to test PolicyScanner</h2>

<form id="uploadForm">
  <input type="file" id="fileInput" accept=".pdf,.png,.jpg" required />
  <button type="submit">Upload & Parse</button>
</form>

<pre id="output"></pre>

<script>
document.getElementById("uploadForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const file = document.getElementById("fileInput").files[0];
  const formData = new FormData();
  formData.append("file", file);
  
  const res = await fetch("https://policyscanner-backend.onrender.com/upload", {
    method: "POST",
    body: formData
  });
  
  const data = await res.json();
  document.getElementById("output").textContent = JSON.stringify(data, null, 2);
});
</script>
